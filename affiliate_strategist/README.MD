# README.md - DOCUMENTACI√ìN PRINCIPAL

# üöÄ Affiliate Strategist Pro v1.3

> **Generador de estrategias de marketing de afiliados con IA avanzada**

[![Django](https://img.shields.io/badge/Django-5.2.4-green.svg)](https://djangoproject.com/)
[![Python](https://img.shields.io/badge/Python-3.11+-blue.svg)](https://python.org/)
[![License](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)
[![Tests](https://img.shields.io/badge/Tests-Passing-brightgreen.svg)](tests/)
[![Coverage](https://img.shields.io/badge/Coverage-95%25-brightgreen.svg)](coverage/)

**Affiliate Strategist Pro** es una aplicaci√≥n web avanzada que utiliza inteligencia artificial para generar estrategias de marketing de afiliados personalizadas, an√°lisis competitivos y contenido optimizado para diferentes plataformas sociales.

## ‚ú® **Caracter√≠sticas Principales**

### ü§ñ **IA Avanzada**
- **Integraci√≥n con Google Gemini Pro** para an√°lisis inteligentes
- **An√°lisis competitivo autom√°tico** con comparaci√≥n de precios
- **Generaci√≥n de contenido personalizado** por plataforma
- **Optimizaci√≥n de hashtags y keywords** autom√°tica

### üìä **Analytics y M√©tricas**
- **Dashboard de m√©tricas en tiempo real** para administradores
- **Historial completo de an√°lisis** con b√∫squeda avanzada
- **Estad√≠sticas de rendimiento** por usuario y plataforma
- **Sistema de cache inteligente** para optimizaci√≥n

### üë• **Sistema de Usuarios**
- **Autenticaci√≥n completa** con registro/login
- **Planes de suscripci√≥n** (Gratuito, Pro, Premium)
- **Sistema de gamificaci√≥n** con puntos y niveles
- **Perfiles personalizados** con estad√≠sticas

### üîå **API REST Completa**
- **Endpoints documentados** para integraci√≥n
- **Autenticaci√≥n por token** para seguridad
- **Rate limiting** y throttling
- **Paginaci√≥n autom√°tica** de resultados

### üõ°Ô∏è **Seguridad y Rendimiento**
- **Middleware de seguridad** personalizado
- **Sistema de cache Redis** para alta performance
- **Rate limiting** contra abuso
- **Logging y monitoreo** completo

## üöÄ **Inicio R√°pido**

### Prerequisitos
- Python 3.11+
- Node.js 18+ (opcional, para desarrollo frontend)
- Redis (recomendado para cache)
- PostgreSQL (recomendado para producci√≥n)

### Instalaci√≥n Local

```bash
# 1. Clonar repositorio
git clone https://github.com/tu-usuario/affiliate-strategist-pro.git
cd affiliate-strategist-pro

# 2. Crear entorno virtual
python -m venv venv
source venv/bin/activate  # Linux/Mac
# venv\Scripts\activate  # Windows

# 3. Instalar dependencias
pip install -r requirements.txt

# 4. Configurar variables de entorno
cp .env.example .env
# Editar .env con tus configuraciones

# 5. Ejecutar migraciones
python manage.py migrate

# 6. Crear superusuario
python manage.py createsuperuser

# 7. Iniciar servidor
python manage.py runserver
```

üéâ **¬°Listo!** Visita `http://localhost:8000` para usar la aplicaci√≥n.

### Instalaci√≥n con Docker

```bash
# 1. Clonar repositorio
git clone https://github.com/tu-usuario/affiliate-strategist-pro.git
cd affiliate-strategist-pro

# 2. Configurar variables de entorno
cp .env.example .env
# Editar .env con tus configuraciones

# 3. Construir y ejecutar
docker-compose up -d

# 4. Ejecutar migraciones
docker-compose exec web python manage.py migrate

# 5. Crear superusuario
docker-compose exec web python manage.py createsuperuser
```

## üõ†Ô∏è **Configuraci√≥n**

### Variables de Entorno Principales

```env
# Django
SECRET_KEY=tu-secret-key-super-segura
DEBUG=True
ALLOWED_HOSTS=localhost,127.0.0.1

# Base de datos
DATABASE_URL=postgresql://user:pass@localhost/affiliate_strategist

# APIs
GEMINI_API_KEY=tu-api-key-de-gemini
OPENAI_API_KEY=tu-api-key-de-openai

# Cache
REDIS_URL=redis://localhost:6379/0

# Email
EMAIL_HOST_USER=tu-email@gmail.com
EMAIL_HOST_PASSWORD=tu-password
```

### Obtener API Keys

1. **Google Gemini**: Visita [Google AI Studio](https://makersuite.google.com/app/apikey)
2. **OpenAI** (opcional): Visita [OpenAI Platform](https://platform.openai.com/api-keys)

## üìñ **Documentaci√≥n**

### Para Usuarios
- [üî∞ Gu√≠a de Usuario](docs/user-guide.md) - C√≥mo usar la aplicaci√≥n
- [üí° Casos de Uso](docs/use-cases.md) - Ejemplos pr√°cticos
- [‚ùì FAQ](docs/faq.md) - Preguntas frecuentes

### Para Desarrolladores
- [üöÄ Gu√≠a de Desarrollo](docs/development.md) - Setup desarrollo
- [üîå Documentaci√≥n API](docs/api.md) - Endpoints y ejemplos
- [üèóÔ∏è Arquitectura](docs/architecture.md) - Dise√±o del sistema
- [üß™ Testing](docs/testing.md) - Ejecutar tests
- [üöÄ Deployment](docs/deployment.md) - Deploy a producci√≥n

### Para Contribuidores
- [ü§ù Gu√≠a de Contribuci√≥n](CONTRIBUTING.md) - C√≥mo contribuir
- [üìã C√≥digo de Conducta](CODE_OF_CONDUCT.md) - Normas de comportamiento
- [üó∫Ô∏è Roadmap](docs/roadmap.md) - Funcionalidades futuras

## üéØ **Casos de Uso**

### üé¨ **YouTuber de Tech Reviews**
```bash
‚úÖ Analiza producto tecnol√≥gico
‚úÖ Genera estrategia para YouTube
‚úÖ Optimiza para audiencia tech-savvy
‚úÖ Sugiere momento ideal para publicar
‚úÖ Genera hashtags espec√≠ficos
```

### üì± **Influencer de Instagram**
```bash
‚úÖ An√°lisis competitivo autom√°tico
‚úÖ Estrategia visual para Instagram
‚úÖ Hooks para captar atenci√≥n
‚úÖ Stories y posts coordinados
‚úÖ M√©tricas de engagement
```

### üíº **Marketer Profesional**
```bash
‚úÖ An√°lisis multi-plataforma
‚úÖ ROI y m√©tricas avanzadas
‚úÖ Segmentaci√≥n de audiencia
‚úÖ A/B testing de mensajes
‚úÖ Reports ejecutivos en PDF
```

## üîß **Comandos √ötiles**

### Desarrollo
```bash
# Ejecutar tests
python manage.py test

# Generar datos de prueba
python manage.py generate_test_data --users 10 --analyses 50

# Limpiar an√°lisis antiguos
python manage.py cleanup_old_analyses --days 30

# Actualizar plantillas
python manage.py update_templates

# Cachear datos frecuentes
python manage.py manage_cache warm
```

### Producci√≥n
```bash
# Deploy completo
./deployment/scripts/deploy.sh

# Backup de base de datos
./deployment/scripts/deploy.sh backup

# Ver logs en tiempo real
./deployment/scripts/deploy.sh logs

# Verificar salud del sistema
./deployment/scripts/deploy.sh health
```

## üìä **M√©tricas y Monitoreo**

### Dashboard de Admin
- Accede a `/admin/metrics/` para ver m√©tricas en tiempo real
- Monitoreo de CPU, memoria y disco
- Estad√≠sticas de usuarios y an√°lisis
- Alertas autom√°ticas de sistema

### API de M√©tricas
```bash
# Estad√≠sticas generales
GET /api/analyses/stats/

# M√©tricas de usuario
GET /api/profile/

# Notificaciones
GET /api/notifications/
```

## üö® **Troubleshooting**

### Problemas Comunes

**Error 500 en an√°lisis:**
```bash
# Verificar API key de Gemini
echo $GEMINI_API_KEY

# Verificar logs
tail -f logs/django.log

# Reiniciar cache
python manage.py manage_cache clear
```

**Problemas de performance:**
```bash
# Verificar cache Redis
redis-cli ping

# Optimizar base de datos
python manage.py dbshell
ANALYZE;

# Verificar uso de memoria
python manage.py shell
>>> import psutil; psutil.virtual_memory()
```

**Errores de scraping:**
```bash
# Verificar conectividad
curl -I https://example.com/producto

# Actualizar User-Agent
python manage.py shell
>>> from analyzer.utils.scraping import update_user_agent
>>> update_user_agent()
```

## ü§ù **Contribuci√≥n**

¬°Las contribuciones son bienvenidas! Por favor:

1. **Fork** el repositorio
2. **Crea** una rama feature (`git checkout -b feature/amazing-feature`)
3. **Commit** tus cambios (`git commit -m 'Add amazing feature'`)
4. **Push** a la rama (`git push origin feature/amazing-feature`)
5. **Abre** un Pull Request

Ver [CONTRIBUTING.md](CONTRIBUTING.md) para m√°s detalles.

## üìÑ **Licencia**

Este proyecto est√° bajo la Licencia MIT. Ver [LICENSE](LICENSE) para m√°s detalles.

## üôè **Agradecimientos**

- [Django](https://djangoproject.com/) - Framework web
- [Google Gemini](https://ai.google.dev/) - IA para an√°lisis
- [Bootstrap](https://getbootstrap.com/) - UI Framework
- [Redis](https://redis.io/) - Sistema de cache
- [PostgreSQL](https://postgresql.org/) - Base de datos

## üìû **Soporte**

- üìß **Email**: soporte@affiliatestrategist.com
- üí¨ **Discord**: [Unirse al servidor](https://discord.gg/affiliate-strategist)
- üìñ **Documentaci√≥n**: [docs.affiliatestrategist.com](https://docs.affiliatestrategist.com)
- üêõ **Issues**: [GitHub Issues](https://github.com/tu-usuario/affiliate-strategist-pro/issues)

---

<div align="center">

**Hecho con ‚ù§Ô∏è por [Tu Nombre](https://github.com/tu-usuario)**

[‚≠ê Danos una estrella](https://github.com/tu-usuario/affiliate-strategist-pro) si te gust√≥ el proyecto!

</div>

# =============================================================================
# docs/api.md - DOCUMENTACI√ìN DE API

# üîå API Documentation - Affiliate Strategist Pro

## Introducci√≥n

La API REST de Affiliate Strategist Pro permite integrar la funcionalidad de generaci√≥n de estrategias de marketing en aplicaciones externas.

### Base URL
```
https://tu-dominio.com/api/
```

### Autenticaci√≥n

La API utiliza **Token Authentication**. Primero obt√©n un token:

```bash
POST /api/auth/token/
Content-Type: application/json

{
    "username": "tu_usuario",
    "password": "tu_password"
}
```

**Respuesta:**
```json
{
    "token": "9944b09199c62bcf9418ad846dd0e4bbdfc6ee4b"
}
```

**Uso del token:**
```bash
Authorization: Token 9944b09199c62bcf9418ad846dd0e4bbdfc6ee4b
```

## Endpoints Principales

### üìä An√°lisis

#### Crear An√°lisis
```http
POST /api/analyze/
Authorization: Token <tu-token>
Content-Type: application/json

{
    "product_url": "https://example.com/producto",
    "platform": "tiktok",
    "target_audience": "mujeres 25-35 a√±os",
    "campaign_goal": "conversions",
    "budget": "medium",
    "tone": "professional",
    "analysis_type": "basic",
    "api_key": "tu-gemini-api-key"
}
```

**Respuesta exitosa (201):**
```json
{
    "success": true,
    "analysis_id": "123e4567-e89b-12d3-a456-426614174000",
    "response": "## Estrategia de Marketing...",
    "product": {
        "title": "Producto Ejemplo",
        "price": "$99.99",
        "description": "Descripci√≥n del producto..."
    },
    "message": "¬°An√°lisis completado exitosamente!"
}
```

#### Obtener An√°lisis
```http
GET /api/analyses/
Authorization: Token <tu-token>
```

**Par√°metros de consulta:**
- `page`: N√∫mero de p√°gina (default: 1)
- `page_size`: Elementos por p√°gina (max: 100)
- `platform`: Filtrar por plataforma
- `analysis_type`: Filtrar por tipo de an√°lisis
- `search`: Buscar en t√≠tulo o descripci√≥n

**Respuesta:**
```json
{
    "count": 25,
    "next": "https://api.example.com/analyses/?page=2",
    "previous": null,
    "results": [
        {
            "id": "123e4567-e89b-12d3-a456-426614174000",
            "product_title": "Producto Ejemplo",
            "platform": "tiktok",
            "analysis_type": "basic",
            "success": true,
            "created_at": "2024-01-15T10:30:00Z",
            "is_recent": true
        }
    ]
}
```

#### Obtener An√°lisis Espec√≠fico
```http
GET /api/analyses/{id}/
Authorization: Token <tu-token>
```

### üë§ Usuario y Perfil

#### Obtener Perfil
```http
GET /api/profile/
Authorization: Token <tu-token>
```

**Respuesta:**
```json
{
    "bio": "Experto en marketing digital",
    "website": "https://miwebsite.com",
    "company_name": "Mi Empresa",
    "plan": "pro",
    "plan_display": "‚≠ê Profesional",
    "analyses_remaining": 85,
    "success_rate": 92.5,
    "total_analyses": 120,
    "points": 2400,
    "level": 3
}
```

#### Actualizar Perfil
```http
PATCH /api/profile/
Authorization: Token <tu-token>
Content-Type: application/json

{
    "bio": "Nueva biograf√≠a",
    "website": "https://nuevo-sitio.com",
    "preferred_platforms": ["tiktok", "instagram"]
}
```

### üìù Plantillas de Marketing

#### Obtener Plantillas
```http
GET /api/templates/
Authorization: Token <tu-token>
```

**Par√°metros:**
- `platform`: Filtrar por plataforma
- `category`: Filtrar por categor√≠a
- `ordering`: Ordenar por (`success_rate`, `times_used`, `created_at`)

**Respuesta:**
```json
{
    "results": [
        {
            "id": "template-uuid",
            "name": "Review Tech YouTube",
            "platform": "youtube",
            "category": "technology",
            "template": "Hey! Hoy te traigo un review HONESTO de [PRODUCTO]...",
            "success_rate": 85.5,
            "times_used": 245,
            "is_premium": false
        }
    ]
}
```

#### Usar Plantilla
```http
POST /api/templates/{id}/use_template/
Authorization: Token <tu-token>
```

### üìä Estad√≠sticas

#### Estad√≠sticas Generales
```http
GET /api/analyses/stats/
Authorization: Token <tu-token>
```

**Respuesta:**
```json
{
    "summary": {
        "total": 1250,
        "successful": 1156,
        "success_rate": 92.5
    },
    "by_platform": [
        {"platform": "tiktok", "count": 450},
        {"platform": "instagram", "count": 380}
    ],
    "by_type": [
        {"analysis_type": "basic", "count": 800},
        {"analysis_type": "competitive", "count": 450}
    ],
    "daily_trend": [
        {"date": "2024-01-15", "count": 25},
        {"date": "2024-01-16", "count": 30}
    ]
}
```

### üîî Notificaciones

#### Obtener Notificaciones
```http
GET /api/notifications/
Authorization: Token <tu-token>
```

#### Marcar como Le√≠da
```http
PATCH /api/notifications/{id}/mark_as_read/
Authorization: Token <tu-token>
```

#### Marcar Todas como Le√≠das
```http
PATCH /api/notifications/mark_all_read/
Authorization: Token <tu-token>
```

## Rate Limiting

La API implementa rate limiting para prevenir abuso:

- **An√°lisis**: 10 por hora por usuario autenticado
- **API General**: 100 requests por hora por usuario
- **Usuarios an√≥nimos**: 20 requests por hora por IP

**Headers de respuesta:**
```
X-RateLimit-Limit: 10
X-RateLimit-Remaining: 7
X-RateLimit-Reset: 1642248000
```

## C√≥digos de Error

### Errores Comunes

**400 Bad Request**
```json
{
    "error": "Datos de entrada inv√°lidos",
    "details": {
        "product_url": ["Este campo es requerido"],
        "platform": ["Selecciona una opci√≥n v√°lida"]
    }
}
```

**401 Unauthorized**
```json
{
    "detail": "Authentication credentials were not provided."
}
```

**403 Forbidden**
```json
{
    "error": "Has alcanzado el l√≠mite de an√°lisis para tu plan"
}
```

**404 Not Found**
```json
{
    "detail": "Not found."
}
```

**429 Too Many Requests**
```json
{
    "error": "Rate limit exceeded. Try again in 3600 seconds."
}
```

**500 Internal Server Error**
```json
{
    "error": "Error interno del servidor"
}
```

## Ejemplos de Uso

### Python con requests
```python
import requests

# Obtener token
response = requests.post('https://api.example.com/auth/token/', {
    'username': 'tu_usuario',
    'password': 'tu_password'
})
token = response.json()['token']

# Headers para requests
headers = {
    'Authorization': f'Token {token}',
    'Content-Type': 'application/json'
}

# Crear an√°lisis
analysis_data = {
    'product_url': 'https://example.com/producto',
    'platform': 'tiktok',
    'target_audience': 'j√≥venes 18-25',
    'analysis_type': 'basic',
    'api_key': 'tu-gemini-key'
}

response = requests.post(
    'https://api.example.com/analyze/',
    json=analysis_data,
    headers=headers
)

if response.status_code == 201:
    result = response.json()
    print(f"An√°lisis creado: {result['analysis_id']}")
    print(f"Estrategia: {result['response']}")
```

### JavaScript con fetch
```javascript
// Obtener token
const tokenResponse = await fetch('https://api.example.com/auth/token/', {
    method: 'POST',
    headers: {
        'Content-Type': 'application/json'
    },
    body: JSON.stringify({
        username: 'tu_usuario',
        password: 'tu_password'
    })
});

const { token } = await tokenResponse.json();

// Crear an√°lisis
const analysisResponse = await fetch('https://api.example.com/analyze/', {
    method: 'POST',
    headers: {
        'Authorization': `Token ${token}`,
        'Content-Type': 'application/json'
    },
    body: JSON.stringify({
        product_url: 'https://example.com/producto',
        platform: 'tiktok',
        target_audience: 'millennials',
        analysis_type: 'basic',
        api_key: 'tu-gemini-key'
    })
});

const result = await analysisResponse.json();
console.log('Estrategia generada:', result.response);
```

### cURL
```bash
# Obtener token
curl -X POST https://api.example.com/auth/token/ \
  -H "Content-Type: application/json" \
  -d '{"username":"tu_usuario","password":"tu_password"}'

# Crear an√°lisis
curl -X POST https://api.example.com/analyze/ \
  -H "Authorization: Token tu-token-aqui" \
  -H "Content-Type: application/json" \
  -d '{
    "product_url": "https://example.com/producto",
    "platform": "tiktok",
    "target_audience": "millennials",
    "analysis_type": "basic",
    "api_key": "tu-gemini-key"
  }'
```

## Webhooks (Pr√≥ximamente)

Los webhooks permitir√°n recibir notificaciones en tiempo real cuando se completen an√°lisis o ocurran eventos importantes.

```json
{
    "event": "analysis.completed",
    "data": {
        "analysis_id": "123e4567-e89b-12d3-a456-426614174000",
        "user_id": "user-123",
        "success": true,
        "completed_at": "2024-01-15T10:30:00Z"
    }
}
```

## SDKs Oficiales

### Python SDK (En desarrollo)
```bash
pip install affiliate-strategist-sdk
```

```python
from affiliate_strategist import Client

client = Client(api_key='tu-token')
analysis = client.analyze(
    product_url='https://example.com/producto',
    platform='tiktok'
)
print(analysis.strategy)
```

### JavaScript SDK (En desarrollo)
```bash
npm install affiliate-strategist-js
```

```javascript
import { AffiliateStrategist } from 'affiliate-strategist-js';

const client = new AffiliateStrategist('tu-token');
const analysis = await client.analyze({
    productUrl: 'https://example.com/producto',
    platform: 'tiktok'
});
```

## Soporte

- üìß **API Support**: api-support@affiliatestrategist.com
- üìñ **Documentaci√≥n**: [docs.affiliatestrategist.com/api](https://docs.affiliatestrategist.com/api)
- üí¨ **Discord**: [#api-support](https://discord.gg/affiliate-strategist)

---

**√öltima actualizaci√≥n**: Enero 2024  
**Versi√≥n API**: v1.3